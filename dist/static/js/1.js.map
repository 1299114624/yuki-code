{"version":3,"sources":["webpack:///src/components/search-color.vue","webpack:///./src/components/search-color.vue?2ec6","webpack:///./src/components/search-color.vue","webpack:///src/components/put-color.vue","webpack:///./src/components/put-color.vue"],"names":["search_color","components","putColor","props","data","type","Array","placeholderTitle","String","title","level","Number","default","searchVal","methods","handle","val","this","$emit","click","components_search_color","render","_vm","_h","$createElement","_c","_self","staticClass","on","_v","_s","attrs","id","placeholder","clearable","model","value","callback","$$v","expression","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","put_color","useSearchVal","resBack","computed","searchVal1","trim","watch","mounted","self","document","onclick","e","check","target","parentNode","$parent","clickFun","eCount","currentTarget","childNodes","index","i","length","splitArr","matchVal","fullVal","parentName","splitTag","originMatchval","caNameArr","replace","RegExp","split","shift","pop","newCaNameArr","map","el","arr","push","substring","slice","join","pathStr","unshift","path","nameArr","createElement","context","_this","back","re","item","name","search","children","_matchVal","_parentName","_fullVal","class","dropMenu","checkShow","sColor","toLowerCase"],"mappings":"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","file":"static/js/1.js","sourcesContent":["<template>\r\n    <div class=\"search-md\">\r\n        <div class=\"head-icon\" @click=\"click\">{{title}}</div>\r\n        <el-input id=\"searchInput\" :placeholder=\"placeholderTitle\" clearable v-model=\"searchVal\">\r\n            <i slot=\"suffix\" class=\"el-input__icon el-icon-search\"></i>\r\n        </el-input>\r\n        <put-color :val='searchVal' :data='data' :level='level'></put-color>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// dropMenu菜单\r\nimport putColor from './put-color'\r\nexport default {\r\n    components:{\r\n        putColor\r\n    },\r\n    props:{\r\n        data:{\r\n            type:Array\r\n        },\r\n        placeholderTitle: String,\r\n        title: String,\r\n        level:{\r\n            type:Number,\r\n            default:3\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            searchVal: \"\"\r\n        }\r\n    },\r\n    methods:{\r\n        handle(val) {\r\n            this.$emit('change',val);\r\n            this.searchVal = \"\"\r\n        },\r\n        click(){\r\n            this.$emit('clickIcon');\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.search-md {\r\n    background-color: rgba(36,42,72,1);\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    height: 130px;\r\n    $inputWidth:260px;\r\n    padding: 30px calc(50% - #{$inputWidth}) 60px;\r\n    position: fixed;\r\n    top: 0;\r\n    z-index: 1000;\r\n    &::after{\r\n        content: \"\";\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 30px;\r\n        margin-left: 280px;\r\n        background-color: #fff;\r\n    }\r\n    .el-input .el-input__inner{\r\n        height: 40px;\r\n        background-color: rgba(24,31,62,0.8);\r\n        border-color: #4b5375;\r\n        font-size: 14px;\r\n        color: #fff;\r\n        padding: 0 10px;\r\n        &:focus{\r\n            border-color: #60b0ff;\r\n            color: #d6d9ed\r\n        }\r\n    }\r\n    .head-icon{\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        padding-left: 95px;\r\n        cursor: pointer;\r\n        color: #3dcca6;\r\n        height: 100%;\r\n        font-weight: bold;\r\n        font-size: 22px;\r\n        display: flex;\r\n        align-items: center;\r\n        background: url('../assets/diqiu.svg') no-repeat 0 50%\r\n    }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/search-color.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-md\"},[_c('div',{staticClass:\"head-icon\",on:{\"click\":_vm.click}},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('el-input',{attrs:{\"id\":\"searchInput\",\"placeholder\":_vm.placeholderTitle,\"clearable\":\"\"},model:{value:(_vm.searchVal),callback:function ($$v) {_vm.searchVal=$$v},expression:\"searchVal\"}},[_c('i',{staticClass:\"el-input__icon el-icon-search\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"})]),_vm._v(\" \"),_c('put-color',{attrs:{\"val\":_vm.searchVal,\"data\":_vm.data,\"level\":_vm.level}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-68575658\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search-color.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-68575658\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search-color.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search-color.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search-color.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-68575658\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./search-color.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search-color.vue\n// module id = null\n// module chunks = ","<script>\r\nexport default {\r\n    props:{\r\n        data:{\r\n            type:Array\r\n        },\r\n        val:String,\r\n        level:Number\r\n    },\r\n    data(){\r\n        return{\r\n            useSearchVal:\"\",\r\n            resBack:[]\r\n        }\r\n    },\r\n    computed:{\r\n        searchVal1(){\r\n            return this.val.trim();\r\n        }\r\n    },\r\n    watch:{\r\n        searchVal1(val){\r\n            this.useSearchVal = val;\r\n        }\r\n    },\r\n    mounted(){\r\n        // console.log(this.data)\r\n        let self = this;\r\n        document.onclick= function(e){\r\n            let check = e.target.parentNode && e.target.parentNode.parentNode;\r\n            if(e.target.id != 'searchInput' && check &&check.id != 'searchDropMenu') {\r\n                self.$parent.searchVal = \"\"\r\n            }\r\n        }\r\n    },\r\n    methods:{\r\n        clickFun(e){\r\n            let parentNode = e.currentTarget.parentNode;\r\n            let eCount = parentNode.childNodes;\r\n            // console.log('childNode',eCount)\r\n            let index = 0;\r\n            for(var i=0 ; i < eCount.length ; i++) {\r\n                if(e.currentTarget == eCount[i]) {\r\n                    index = i;\r\n                    break\r\n                }\r\n            }\r\n            this.$parent.handle(this.resBack[index])\r\n        },\r\n        splitArr(val,matchVal,fullVal,parentName){\r\n            let splitTag = \"~(^_^)~\";\r\n            splitTag += splitTag;\r\n            //originMatchval : \"Button 按钮\"\r\n            let originMatchval = matchVal;\r\n            //caFullVal  :   \"~(^_^)~~(^_^)~b~(^_^)~~(^_^)~utton 按钮\"\r\n            let caFullVal = matchVal.replace(new RegExp(val,\"gi\"),splitTag + val + splitTag);\r\n            let caNameArr = caFullVal.split(splitTag);\r\n            // 去掉split后的前后空格\r\n            //caNameArr  :  ['b','utton 按钮']\r\n            if(caNameArr.length > 0 && caNameArr[0] === \"\") {\r\n                caNameArr.shift()\r\n            }\r\n            if(caNameArr.length > 0 && caNameArr[caNameArr.length - 1] === \"\") {\r\n                caNameArr.pop()\r\n            }\r\n            //如果输入的为小写字母,会把匹配的大写字符替换掉,所以要把原来大写字母还原回来\r\n            let newCaNameArr = [];\r\n            //newCaNameArr  :  ['B','utton 按钮']\r\n            caNameArr.map((el,i,arr) => {\r\n                newCaNameArr.push(\r\n                    originMatchval.substring(\r\n                        // 两次循环分别得到 0 1 和 1 9  \r\n                        arr.slice(0,i).join(\"\").length , arr.slice(0,i + 1).join(\"\").length\r\n                    )\r\n                )\r\n                // console.log(arr.slice(0,i).join(\"\").length,arr.slice(0,i + 1).join(\"\").length)\r\n            })\r\n            if(fullVal.pathStr) {\r\n                newCaNameArr.unshift(fullVal.pathStr)\r\n            }\r\n            return {\r\n                path: fullVal.path,\r\n                nameArr: newCaNameArr,\r\n                // name:parentName\r\n            }\r\n        }\r\n    },\r\n    render(createElement,context){\r\n        //以back数组内每个对象的nameArr数组依次拼接成字符串来渲染\r\n        let self = this;\r\n        let back = [];\r\n        let searchVal = this.val.trim();\r\n        //   输入的字符串,如  b\r\n        let re = new RegExp(searchVal,\"gi\");\r\n        this.data.map((item,i)=>{\r\n            //第一层\r\n            if(item.path){\r\n                let matchVal = item.name;\r\n                let parentName =item.name;\r\n                let fullVal = {\r\n                    pathStr:\"\",\r\n                    path:[item.path]\r\n                };\r\n                let searchIndex = item.name.search(re);\r\n                if(searchIndex !== -1 && searchVal) {\r\n                    back.push(this.splitArr(searchVal,matchVal,fullVal,parentName))\r\n                }\r\n            } else {\r\n                //第二层\r\n                item.children.map(el => {\r\n                    if(el.title){\r\n                        //matchVal : Button 按钮\r\n                        let matchVal = el.title;\r\n                        //parentName : 基础控件\r\n                        let parentName = item.name;\r\n                        let fullVal = {\r\n                            pathStr: `${item.name}>`,\r\n                            //path  : /button\r\n                            path:[el.path]\r\n                        };\r\n                        //re为输入的字符串,如  'b'\r\n                        let searchIndex = matchVal.search(re);\r\n                        if(searchIndex !== -1 && searchVal) {\r\n                            back.push(this.splitArr(searchVal,matchVal,fullVal,parentName))\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        })\r\n        if(this.level !== 2){}\r\n        if(back.length === 0) {\r\n            back.push({\r\n                // name:\"无匹配数据\",\r\n                nameArr:[\"无匹配数据\"]\r\n            })\r\n        }\r\n        //提供点击时跳转的数据\r\n        this.resBack = back;\r\n        return createElement(\r\n            \"div\",\r\n            {\r\n                'class':{\r\n                    dropMenu:true,\r\n                    checkShow:!this.useSearchVal\r\n                },\r\n                attrs:{\r\n                    id:'searchDropMenu'\r\n                },\r\n            },\r\n            [\r\n                createElement('ul',back.map(item=>{\r\n                    return createElement(\r\n                        'li',\r\n                        {\r\n                            on:{\r\n                                click:this.clickFun\r\n                            }\r\n                        },\r\n                        item.nameArr.map(e=>{\r\n                            return createElement(\r\n                                'span',\r\n                                {\r\n                                    'class':{\r\n                                        sColor:e.toLowerCase() === searchVal.toLowerCase()\r\n                                    }\r\n                                },e\r\n                            )\r\n                        })\r\n                    )\r\n                }))\r\n            ]\r\n        )\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.dropMenu{\r\n    max-height: 450px;\r\n    overflow-y: auto;\r\n    color: #fff;\r\n    font-size: 12px;\r\n    position: fixed;\r\n    width: 520px;\r\n    $inputWidth:260px;\r\n    left: calc(50% - #{$inputWidth});\r\n    top: 69px;\r\n    box-sizing: border-box;\r\n    background: #181e39;\r\n    border: 1px solid #60b0ff;\r\n    padding: 4px;\r\n    z-index: 1000;\r\n    &.checkShow{\r\n        display: none;\r\n    }\r\n    .sColor{\r\n        color: #ff4097;\r\n        font-weight: bold;\r\n    }\r\n    ul{\r\n        margin: 0;\r\n        padding: 0;\r\n        li{\r\n            list-style-type: none;\r\n            padding: 0 10px;\r\n            height: 37px;\r\n            line-height: 37px;\r\n            cursor: pointer;\r\n            transition: font-size 0.3s;\r\n            &:hover{\r\n                background-color: #272f56;\r\n                font-size: 14px\r\n            }\r\n            &+li{\r\n                border-top: 1px solid #151a33;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/put-color.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d742014\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./put-color.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./put-color.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./put-color.vue\"\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/put-color.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}