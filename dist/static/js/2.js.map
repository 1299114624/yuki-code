{"version":3,"sources":["webpack:///src/components/put-color.vue","webpack:///./src/components/put-color.vue"],"names":["put_color","props","data","type","Array","val","String","level","Number","useSearchVal","resBack","computed","searchVal1","this","trim","watch","mounted","self","document","onclick","e","check","target","parentNode","id","$parent","searchVal","methods","clickFun","eCount","currentTarget","childNodes","index","i","length","handle","splitArr","matchVal","fullVal","parentName","splitTag","originMatchval","caNameArr","replace","RegExp","split","shift","pop","newCaNameArr","map","el","arr","push","substring","slice","join","pathStr","unshift","path","nameArr","render","createElement","context","_this","back","re","item","name","search","children","title","_matchVal","_parentName","_fullVal","class","dropMenu","checkShow","attrs","on","click","sColor","toLowerCase","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.js","sourcesContent":["<script>\r\nexport default {\r\n    props:{\r\n        data:{\r\n            type:Array\r\n        },\r\n        val:String,\r\n        level:Number\r\n    },\r\n    data(){\r\n        return{\r\n            useSearchVal:\"\",\r\n            resBack:[]\r\n        }\r\n    },\r\n    computed:{\r\n        searchVal1(){\r\n            return this.val.trim();\r\n        }\r\n    },\r\n    watch:{\r\n        searchVal1(val){\r\n            this.useSearchVal = val;\r\n        }\r\n    },\r\n    mounted(){\r\n        // console.log(this.data)\r\n        let self = this;\r\n        document.onclick= function(e){\r\n            let check = e.target.parentNode && e.target.parentNode.parentNode;\r\n            if(e.target.id != 'searchInput' && check &&check.id != 'searchDropMenu') {\r\n                self.$parent.searchVal = \"\"\r\n            }\r\n        }\r\n    },\r\n    methods:{\r\n        clickFun(e){\r\n            let parentNode = e.currentTarget.parentNode;\r\n            let eCount = parentNode.childNodes;\r\n            // console.log('childNode',eCount)\r\n            let index = 0;\r\n            for(var i=0 ; i < eCount.length ; i++) {\r\n                if(e.currentTarget == eCount[i]) {\r\n                    index = i;\r\n                    break\r\n                }\r\n            }\r\n            this.$parent.handle(this.resBack[index])\r\n        },\r\n        splitArr(val,matchVal,fullVal,parentName){\r\n            let splitTag = \"~(^_^)~\";\r\n            splitTag += splitTag;\r\n            //originMatchval : \"Button 按钮\"\r\n            let originMatchval = matchVal;\r\n            //caFullVal  :   \"~(^_^)~~(^_^)~b~(^_^)~~(^_^)~utton 按钮\"\r\n            let caFullVal = matchVal.replace(new RegExp(val,\"gi\"),splitTag + val + splitTag);\r\n            let caNameArr = caFullVal.split(splitTag);\r\n            // 去掉split后的前后空格\r\n            //caNameArr  :  ['b','utton 按钮']\r\n            if(caNameArr.length > 0 && caNameArr[0] === \"\") {\r\n                caNameArr.shift()\r\n            }\r\n            if(caNameArr.length > 0 && caNameArr[caNameArr.length - 1] === \"\") {\r\n                caNameArr.pop()\r\n            }\r\n            //如果输入的为小写字母,会把匹配的大写字符替换掉,所以要把原来大写字母还原回来\r\n            let newCaNameArr = [];\r\n            //newCaNameArr  :  ['B','utton 按钮']\r\n            caNameArr.map((el,i,arr) => {\r\n                newCaNameArr.push(\r\n                    originMatchval.substring(\r\n                        // 两次循环分别得到 0 1 和 1 9  \r\n                        arr.slice(0,i).join(\"\").length , arr.slice(0,i + 1).join(\"\").length\r\n                    )\r\n                )\r\n                // console.log(arr.slice(0,i).join(\"\").length,arr.slice(0,i + 1).join(\"\").length)\r\n            })\r\n            if(fullVal.pathStr) {\r\n                newCaNameArr.unshift(fullVal.pathStr)\r\n            }\r\n            return {\r\n                path: fullVal.path,\r\n                nameArr: newCaNameArr,\r\n                // name:parentName\r\n            }\r\n        }\r\n    },\r\n    render(createElement,context){\r\n        //以back数组内每个对象的nameArr数组依次拼接成字符串来渲染\r\n        let self = this;\r\n        let back = [];\r\n        let searchVal = this.val.trim();\r\n        //   输入的字符串,如  b\r\n        let re = new RegExp(searchVal,\"gi\");\r\n        this.data.map((item,i)=>{\r\n            //第一层\r\n            if(item.path){\r\n                let matchVal = item.name;\r\n                let parentName =item.name;\r\n                let fullVal = {\r\n                    pathStr:\"\",\r\n                    path:[item.path]\r\n                };\r\n                let searchIndex = item.name.search(re);\r\n                if(searchIndex !== -1 && searchVal) {\r\n                    back.push(this.splitArr(searchVal,matchVal,fullVal,parentName))\r\n                }\r\n            } else {\r\n                //第二层\r\n                item.children.map(el => {\r\n                    if(el.title){\r\n                        //matchVal : Button 按钮\r\n                        let matchVal = el.title;\r\n                        //parentName : 基础控件\r\n                        let parentName = item.name;\r\n                        let fullVal = {\r\n                            pathStr: `${item.name}>`,\r\n                            //path  : /button\r\n                            path:[el.path]\r\n                        };\r\n                        //re为输入的字符串,如  'b'\r\n                        let searchIndex = matchVal.search(re);\r\n                        if(searchIndex !== -1 && searchVal) {\r\n                            back.push(this.splitArr(searchVal,matchVal,fullVal,parentName))\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        })\r\n        if(this.level !== 2){}\r\n        if(back.length === 0) {\r\n            back.push({\r\n                // name:\"无匹配数据\",\r\n                nameArr:[\"无匹配数据\"]\r\n            })\r\n        }\r\n        //提供点击时跳转的数据\r\n        this.resBack = back;\r\n        return createElement(\r\n            \"div\",\r\n            {\r\n                'class':{\r\n                    dropMenu:true,\r\n                    checkShow:!this.useSearchVal\r\n                },\r\n                attrs:{\r\n                    id:'searchDropMenu'\r\n                },\r\n            },\r\n            [\r\n                createElement('ul',back.map(item=>{\r\n                    return createElement(\r\n                        'li',\r\n                        {\r\n                            on:{\r\n                                click:this.clickFun\r\n                            }\r\n                        },\r\n                        item.nameArr.map(e=>{\r\n                            return createElement(\r\n                                'span',\r\n                                {\r\n                                    'class':{\r\n                                        sColor:e.toLowerCase() === searchVal.toLowerCase()\r\n                                    }\r\n                                },e\r\n                            )\r\n                        })\r\n                    )\r\n                }))\r\n            ]\r\n        )\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.dropMenu{\r\n    max-height: 450px;\r\n    overflow-y: auto;\r\n    color: #fff;\r\n    font-size: 12px;\r\n    position: fixed;\r\n    width: 520px;\r\n    $inputWidth:260px;\r\n    left: calc(50% - #{$inputWidth});\r\n    top: 69px;\r\n    box-sizing: border-box;\r\n    background: #181e39;\r\n    border: 1px solid #60b0ff;\r\n    padding: 4px;\r\n    z-index: 1000;\r\n    &.checkShow{\r\n        display: none;\r\n    }\r\n    .sColor{\r\n        color: #ff4097;\r\n        font-weight: bold;\r\n    }\r\n    ul{\r\n        margin: 0;\r\n        padding: 0;\r\n        li{\r\n            list-style-type: none;\r\n            padding: 0 10px;\r\n            height: 37px;\r\n            line-height: 37px;\r\n            cursor: pointer;\r\n            transition: font-size 0.3s;\r\n            &:hover{\r\n                background-color: #272f56;\r\n                font-size: 14px\r\n            }\r\n            &+li{\r\n                border-top: 1px solid #151a33;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/put-color.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d742014\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./put-color.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./put-color.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./put-color.vue\"\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/put-color.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}